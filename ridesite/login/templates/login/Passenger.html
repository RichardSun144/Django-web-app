{% extends 'login/base.html' %}
{% load static %}
{% block title %}Passenger{% endblock %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">

    
{% endblock %}


    {% block content %} 
      <div style="width:100%;text-align:center">
{% if request.session.is_login %}

    <h1>{{ request.session.user_name }} Passenger Page</h1>
    <h2>Your Own Open Ride</h2> 
    
<table class="table table-bordered">

    <link rel="stylesheet" href="{% static 'css/rideTable.css' %}">
        <thead>
          <tr>
      <th><div style="width:100%;text-align:center">Date</th>
      <th><div style="width:100%;text-align:center">Time</th>
      <th><div style="width:100%;text-align:center">Start Point</th>
      <th><div style="width:100%;text-align:center">End Point</th>
      <th><div style="width:100%;text-align:center">Sharer</th>
      <th><div style="width:100%;text-align:center">Number of Passengers</th>
      <th><div style="width:100%;text-align:center">Special Text</th>
      <th><div style="width:100%;text-align:center">Sharable?</th>
      <th></th>
          </tr>
        </thead>
        <tbody>
  {% for ride in ride_list_open %}
    <tr>
      <td>{{ride.date}}</td>
      <td>{{ride.time}}</td>
      <td>{{ride.startPoint}}</td>
      <td>{{ride.endPoint}}</td>
      <td><div style="width:100%;text-align:center">
      {% for user in ride.sharer.all %}
      {{user.username}}<br>
      {% endfor %}
      </td>
      <td>{{ride.memberNumber}}</td>
      <td>{{ride.specialText}}</td>
      <td>{{ride.isSharable}}</td>
      
 
      <td>
      <form method="GET"> 
      <button type="submit" name = "edit_ride" class="btn btn-primary" value = {{ride.id}}>Edit</button>
      </form>
      </td>
    </tr>
    {% endfor %}
        </tbody>
      </table>
      
            
      <form method="GET"> 
      <button type="submit" name = "create_ride" class="btn btn-primary" value = {{ride.id}}>Create A Ride</button>
      </form>
   
      
      
      <h2>Your Joined Open Ride</h2> 
    
<table class="table table-bordered">

    <link rel="stylesheet" href="{% static 'css/rideTable.css' %}">
        <thead>
          <tr>
      <th><div style="width:100%;text-align:center">Date</th>
      <th><div style="width:100%;text-align:center">Time</th>
      <th><div style="width:100%;text-align:center">Start Point</th>
      <th><div style="width:100%;text-align:center">End Point</th>
      <th><div style="width:100%;text-align:center">Owner Name</th>
      <th><div style="width:100%;text-align:center">Sharer</th>
      <th><div style="width:100%;text-align:center">Number of Passengers</th>
      <th><div style="width:100%;text-align:center">Special Text</th>
      <th><div style="width:100%;text-align:center">Sharable?</th>
          </tr>
        </thead>
        <tbody>
  {% for ride in ride_list_open_sharer %}
    <tr>
      <td>{{ride.date}}</td>
      <td>{{ride.time}}</td>
      <td>{{ride.startPoint}}</td>
      <td>{{ride.endPoint}}</td>
      <td>{{ride.owner.username}}</td>
      <td><div style="width:100%;text-align:center">
      {% for user in ride.sharer.all %}
      {{user.username}}<br>
      {% endfor %}
      </td>
      <td>{{ride.memberNumber}}</td>
      <td>{{ride.specialText}}</td>
      <td>{{ride.isSharable}}</td>
    </tr>
    {% endfor %}
        </tbody>
      </table>
      
      
      
      
      
      
<h2>Your Confirmed Ride</h2>
<table class="table table-bordered">
    <link rel="stylesheet" href="{% static 'css/rideTable.css' %}">
        <thead>
          <tr>
      <th><div style="width:100%;text-align:center">Date</th>
      <th><div style="width:100%;text-align:center">Time</th>
      <th><div style="width:100%;text-align:center">Start Point</th>
      <th><div style="width:100%;text-align:center">End Point</th>
      <th><div style="width:100%;text-align:center">Owner Name</th>
      <th><div style="width:100%;text-align:center">Sharer</th>
      <th><div style="width:100%;text-align:center">Number of Passengers</th>
      <th><div style="width:100%;text-align:center">Special Text</th>
      <th><div style="width:100%;text-align:center">Driver Name</th>
      <th><div style="width:100%;text-align:center">Sharable?</th>
          </tr>
        </thead>
        <tbody>
  {% for ride in ride_list_confirmed_owner %}
    <tr>
      <td>{{ride.date}}</td>
      <td>{{ride.time}}</td>
      <td>{{ride.startPoint}}</td>
      <td>{{ride.endPoint}}</td>
      <td>{{ride.owner.username}}</td>
      <td><div style="width:100%;text-align:center">
      {% for user in ride.sharer.all %}
      {{user.username}}<br>
      {% endfor %}
      </td>
      <td>{{ride.memberNumber}}</td>
      <td>{{ride.specialText}}</td>
      <td>{{ride.driverWho}}</td>
      <td>{{ride.isSharable}}</td>
    </tr>
    {% endfor %}
    
      {% for ride in ride_list_confirmed_sharer %}
    <tr>
      <td>{{ride.date}}</td>
      <td>{{ride.time}}</td>
      <td>{{ride.startPoint}}</td>
      <td>{{ride.endPoint}}</td>
      <td>{{ride.owner.username}}</td>
      <td><div style="width:100%;text-align:center">
      {% for user in ride.sharer.all %}
      {{user.username}}<br>
      {% endfor %}
      </td>
      <td>{{ride.memberNumber}}</td>
      <td>{{ride.specialText}}</td>
      <td>{{ride.driverWho}}</td>
      <td>{{ride.isSharable}}</td>
    </tr>
    {% endfor %}
    
        </tbody>
      </table>
            
      
      <h2>Available Shared Rides You Can Join</h2>
      <table class="table table-bordered">
    <link rel="stylesheet" href="{% static 'css/rideTable.css' %}">
        <thead>
          <tr>
      <th><div style="width:100%;text-align:center">Date</th>
      <th><div style="width:100%;text-align:center">Time</th>
      <th><div style="width:100%;text-align:center">Start Point</th>
      <th><div style="width:100%;text-align:center">End Point</th>
      <th><div style="width:100%;text-align:center">Owner Name</th>
      <th><div style="width:100%;text-align:center">Sharer</th>
      <th><div style="width:100%;text-align:center">Number of Passengers</th>
      <th><div style="width:100%;text-align:center">Special Text</th>

      <th></th>
          </tr>
        </thead>
        <tbody>
  {% for ride in ride_list_other_share %}
    <tr>
      <td>{{ride.date}}</td>
      <td>{{ride.time}}</td>
      <td>{{ride.startPoint}}</td>
      <td>{{ride.endPoint}}</td>
      <td>{{ride.owner.username}}</td>
      <td><div style="width:100%;text-align:center">
      {% for user in ride.sharer.all %}
      {{user.username}}<br>
      {% endfor %}
      </td>
      <td>{{ride.memberNumber}}</td>
      <td>{{ride.specialText}}</td>
 
      <td>
      <form method="GET"> 
      <button type="submit" name = "join_other_ride" class="btn btn-primary" value = {{ride.id}}>Join</button>
      </form>
      </td>
    </tr>
    {% endfor %}
        </tbody>
      </table>
            <form method="GET"> 
      <button type="submit" name = "pas_to_search_ride" class="btn btn-primary" >Search A Ride</button>
      </form>
      
      {% else %}
        <h1><div style="width:100%;text-align:center">You are not login, please do that!</h1>
    {% endif %}
    {% endblock %}